syntax="proto3";
package server.config;

option cc_generic_services = true;

message InstanceInfo {
    uint32 region_id = 1;
    uint32 group_id = 2;
    string endpoint = 3;
}

message DbConfig {
    string url = 1;
    string passwd = 2;
    uint32 timeout_ms = 3;
}

message RedisConfig {
    string url = 1;
    string passwd = 2;
    uint32 timeout_ms = 3;
}

message LogConfig {
    uint32 log_level = 1;
    uint32 log_threshold = 2;
    uint32 remain_days = 3;
    bool log_to_stderr = 4;
}

message SvrConfigBase {
    string ns_url = 1;
    string service_name = 2;
    uint32 region_id = 3;
    uint32 group_id = 4;
    map<string, DbConfig> db_configs = 5;           // key: instance_name
    map<string, RedisConfig> redis_configs = 6;     // key: instance_name
    LogConfig log_config = 7;
}